!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.selectivity=e()}}(function(){return function e(t,i,s){function n(r,l){if(!i[r]){if(!t[r]){var u="function"==typeof require&&require;if(!l&&u)return u(r,!0);if(o)return o(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var a=i[r]={exports:{}};t[r][0].call(a.exports,function(e){var i=t[r][1][e];return n(i?i:e)},a,a.exports,e,t,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(e,t){e(5),e(6),e(7),e(9),e(10),e(11),e(12),e(13),e(14),e(15),e(16),e(17),e(18),e(19),t.exports=e(8)},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,5:5,6:6,7:7,8:8,9:9}],2:[function(e,t){"use strict";function i(){this._events=[],this.delegateEvents()}var s=window.jQuery||window.Zepto;s.extend(i.prototype,{delegateEvents:function(){this.undelegateEvents(),s.each(this.events,function(e,t){var i,n=e.indexOf(" ");n>-1&&(i=e.slice(n+1),e=e.slice(0,n)),"string"===s.type(t)&&(t=this[t]),t=t.bind(this),i?this.$el.on(e,i,t):this.$el.on(e,t),this._events.push({event:e,selector:i,listener:t})}.bind(this))},undelegateEvents:function(){this._events.forEach(function(e){e.selector?this.$el.off(e.event,e.selector,e.listener):this.$el.off(e.event,e.listener)},this),this._events=[]}}),t.exports=i},{jquery:"jquery"}],3:[function(e,t){"use strict";function i(e,t){function i(){var n=t-(s()-l);if(0>=n||n>t){var c=h;u=h=void 0,c&&(a=s(),r=e.apply(null,o),u||(o=null))}else u=setTimeout(i,n)}function n(){return o=arguments,l=s(),h=!0,u||(u=setTimeout(i,t)),r}var o,r,l,u,h,a=0;return t=0>t?0:+t||0,n}var s=Date.now;t.exports=i},{}],4:[function(e,t){"use strict";function i(e){return n[e]}function s(e){return e?String(e).replace(o,i):""}var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=new RegExp("["+Object.keys(n).join("")+"]","g");t.exports=s},{}],5:[function(e){"use strict";var t=window.jQuery||window.Zepto,i=e(3),s=e(8);e(13),s.OptionListeners.unshift(function(e,n){var o=n.ajax;if(o&&o.url){var r=o.formatError||s.Locale.ajaxError,l=o.minimumInputLength||0,u=o.params,h=o.processItem||function(e){return e},a=o.quietMillis||0,c=o.results||function(e){return{results:e,more:!1}},d=o.transport||t.ajax;a&&(d=i(d,a)),n.query=function(i){var n=i.offset,a=i.term;if(a.length<l)i.error(s.Locale.needMoreCharacters(l-a.length));else{e.dropdown.showLoading();var p=o.url instanceof Function?o.url():o.url;u&&(p+=(p.indexOf("?")>-1?"&":"?")+t.param(u(a,n)));var f=o.success,v=o.error;d(t.extend({},o,{url:p,success:function(e,t,s){f&&f(e,t,s);var o=c(e,n);o.results=o.results.map(h),i.callback(o)},error:function(e,t,s){v&&v(e,t,s),i.error(r(a,e,t,s),{escape:!1})}}))}}}})},{13:13,3:3,8:8,jquery:"jquery"}],6:[function(e){"use strict";var t=e(8),i=0;t.OptionListeners.push(function(e,t){var s=t.query;s&&(t.query=function(e){i++;var t=i,n=e.callback,o=e.error;e.callback=function(){t===i&&n.apply(null,arguments)},e.error=function(){t===i&&o.apply(null,arguments)},s(e)})})},{8:8}],7:[function(e){"use strict";var t=window.jQuery||window.Zepto,i=e(10);t.extend(i.prototype,{removeCloseHandler:function(){this._$backdrop&&!this.parentMenu&&(this._$backdrop.remove(),this._$backdrop=null)},setupCloseHandler:function(){var e;this.parentMenu?e=this.parentMenu._$backdrop:(e=t("<div>").addClass("selectivity-backdrop"),t("body").append(e)),e.on("click",this.close.bind(this)),this._$backdrop=e}})},{10:10,jquery:"jquery"}],8:[function(e,t){"use strict";function i(e,t){var i;return this.each(function(){var o=this.selectivity;if(o){if("string"!==n.type(e)&&(t=e,e="setOptions"),"function"!==n.type(o[e]))throw new Error("Unknown method: "+e);void 0===i&&(i=o[e].call(o,t))}else if("string"===n.type(e)){if("destroy"!==e)throw new Error("Cannot call method on element without Selectivity instance")}else{t=n.extend({},e,{element:this});var r=n(this);r.is("select")&&r.prop("multiple")&&(t.multiple=!0);var l=s.InputTypes,u=t.inputType||(t.multiple?"Multiple":"Single");if("function"!==n.type(u)){if(!l[u])throw new Error("Unknown Selectivity input type: "+u);u=l[u]}this.selectivity=new u(t)}}),void 0===i?this:i}function s(e){return this instanceof s?(this.$el=n(e.element),this.$searchInput=null,this.dropdown=null,this.enabled=!0,this.hasTouch="undefined"!=typeof window&&"ontouchstart"in window,this.hasKeyboard=!this.hasTouch,this.items=null,this.matcher=s.matcher,this.options={},this.results=[],this.searchInputListeners=s.SearchInputListeners,this.templates=n.extend({},s.Templates),this.term="",this.setOptions(e),e.value?this.value(e.value,{triggerChange:!1}):this.data(e.data||null,{triggerChange:!1}),this._$searchInputs=[],this.$el.on("selectivity-close",this._closed.bind(this)),void o.call(this)):i.apply(this,arguments)}var n=window.jQuery||window.Zepto,o=e(2);n.extend(s.prototype,o.prototype,{$:function(e){return this.$el.find(e)},close:function(){this.dropdown&&this.dropdown.close()},data:function(e,t){return t=t||{},void 0===e?this._data:(e=this.validateData(e),this._data=e,this._value=this.getValueForData(e),t.triggerChange!==!1&&this.triggerChange(),void 0)},destroy:function(){this.undelegateEvents();var e=this.$el;e.children().remove(),e[0].selectivity=null,e=null},filterResults:function(e){return e},focus:function(){this.$searchInput&&this.$searchInput.focus()},getItemForId:function(e){var t=this.items;return t?s.findNestedById(t,e):{id:e,text:""+e}},initSearchInput:function(e,t){this._$searchInputs.push(e),this.$searchInput=e,this.searchInputListeners.forEach(function(t){t(this,e)}.bind(this)),t&&t.noSearch===!1||e.on("keyup",function(e){e.isDefaultPrevented()||this.search()}.bind(this))},loadMore:function(){this.options.query({callback:function(e){if(!e||!e.results)throw new Error("callback must be passed a response object");this._addResults(s.processItems(e.results),{hasMore:!!e.more})}.bind(this),error:this._addResults.bind(this,[]),offset:this.results.length,selectivity:this,term:this.term})},open:function(e){if(e=e||{},!this.dropdown&&this.triggerEvent("selectivity-opening")){var t=this.options.dropdown||s.Dropdown;t&&(this.dropdown=new t({position:this.options.positionDropdown,selectivity:this,showSearchInput:e.showSearchInput})),this.search("")}},positionDropdown:function(){this.dropdown&&this.dropdown.position()},removeSearchInput:function(){this._$searchInputs.pop(),this.$searchInput=this._$searchInputs[this._$searchInputs.length-1]||null},search:function(e){function t(t,s){i._setResults(t,n.extend({term:e},s))}var i=this;if(void 0===e){if(!i.$searchInput)return;e=i.$searchInput.val()}if(i.items){e=s.transformText(e);var o=i.matcher;t(i.items.map(function(t){return o(t,e)}).filter(function(e){return!!e}))}else i.options.query&&i.options.query({callback:function(e){if(!e||!e.results)throw new Error("callback must be passed a response object");t(s.processItems(e.results),{hasMore:!!e.more})},error:i._showError.bind(i),offset:0,selectivity:i,term:e});i.term=e},setOptions:function(e){e=e||{},s.OptionListeners.forEach(function(t){t(this,e)}.bind(this)),n.extend(this.options,e);var t=n.extend({closeOnSelect:"boolean",dropdown:"function|null",initSelection:"function|null",matcher:"function|null",placeholder:"string",positionDropdown:"function|null",query:"function|null",readOnly:"boolean",removeOnly:"boolean",searchInputListeners:"array"},e.allowedTypes);n.each(e,function(e,i){var o=t[e];if(o&&!o.split("|").some(function(e){return n.type(i)===e}))throw new Error(e+" must be of type "+o);switch(e){case"items":this.items=null===i?i:s.processItems(i);break;case"matcher":this.matcher=i;break;case"searchInputListeners":this.searchInputListeners=i;break;case"templates":n.extend(this.templates,i)}}.bind(this)),this.enabled=!this.options.readOnly&&!this.options.removeOnly},template:function(e,t){var i=this.templates[e];if(i)return"function"===n.type(i)?i(t):i.render?i.render(t):i.toString();throw new Error("Unknown template: "+e)},triggerChange:function(e){this.triggerEvent("change",n.extend({value:this._value},e))},triggerEvent:function(e,t){var i=n.Event(e,t||{});return this.$el.trigger(i),!i.isDefaultPrevented()},val:function(e){return this.value(e)},validateItem:function(e){if(e&&s.isValidId(e.id)&&"string"===n.type(e.text))return e;throw new Error("Item should have id (number or string) and text (string) properties")},value:function(e,t){return t=t||{},void 0===e?this._value:(e=this.validateValue(e),this._value=e,this.options.initSelection?this.options.initSelection(e,function(i){this._value===e&&(this._data=this.validateData(i),t.triggerChange!==!1&&this.triggerChange())}.bind(this)):(this._data=this.getDataForValue(e),t.triggerChange!==!1&&this.triggerChange()),void 0)},_addResults:function(e,t){this.results=this.results.concat(e),this.dropdown&&this.dropdown.showResults(this.filterResults(e),n.extend({add:!0},t))},_closed:function(){this.dropdown=null},_getItemId:function(e){var t;t=e.target?n(e.target).closest("[data-item-id]"):e.length?e:n(e);var i=t.data("item-id");return"string"===n.type(i)?i:s.findById(this._data||[],i)||s.findNestedById(this.results,i)?i:""+i},_setResults:function(e,t){this.results=e,this.dropdown&&this.dropdown.showResults(this.filterResults(e),t||{})},_showError:function(e,t){this.results=[],this.dropdown&&this.dropdown.showError(e,t)}}),s.Dropdown=null,s.InputTypes={},s.OptionListeners=[],s.SearchInputListeners=[],s.Templates={},s.findById=function(e,t){var i=s.findIndexById(e,t);return i>-1?e[i]:null},s.findIndexById=function(e,t){for(var i=0,s=e.length;s>i;i++)if(e[i].id===t)return i;return-1},s.findNestedById=null,s.inherits=function(e,t,i){return 2===arguments.length&&(i=t,t=s),e.prototype=n.extend(Object.create(t.prototype),{constructor:e},i),function(e,i){t.prototype[i].apply(e,Array.prototype.slice.call(arguments,2))}},s.isValidId=function(e){var t=n.type(e);return"number"===t||"string"===t},s.matcher=function(e,t){var i=null;if(s.transformText(e.text).indexOf(t)>-1)i=e;else if(e.children){var n=e.children.map(function(e){return s.matcher(e,t)}).filter(function(e){return!!e});n.length&&(i={id:e.id,text:e.text,children:n})}return i},s.processItem=function(e){if(s.isValidId(e))return{id:e,text:""+e};if(e&&(s.isValidId(e.id)||e.children)&&"string"===n.type(e.text))return e.children&&(e.children=s.processItems(e.children)),e;throw new Error("invalid item")},s.processItems=function(e){if("array"===n.type(e))return e.map(s.processItem);throw new Error("invalid items")},s.quoteCssAttr=function(e){return'"'+(""+e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},s.transformText=function(e){return e.toLowerCase()},t.exports=n.fn.selectivity=s},{2:2,jquery:"jquery"}],9:[function(e){"use strict";var t={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},i=e(8),s=i.transformText;i.transformText=function(e){for(var i="",n=0,o=e.length;o>n;n++){var r=e[n];i+=t[r]||r}return s(i)}},{8:8}],10:[function(e,t){"use strict";function i(e){var t=e.selectivity;this.$el=s(t.template("dropdown",{dropdownCssClass:t.options.dropdownCssClass,searchInputPlaceholder:t.options.searchInputPlaceholder,showSearchInput:e.showSearchInput})),this.$results=this.$(".selectivity-results-container"),this.hasMore=!1,this.highlightedResult=null,this.loadMoreHighlighted=!1,this.options=e,this.results=[],this.selectivity=t,this._closeProxy=this.close.bind(this),t.options.closeOnSelect!==!1&&t.$el.on("selectivity-selecting",this._closeProxy),this._lastMousePosition={},this.addToDom(),this.position(),this.setupCloseHandler(),this._suppressMouseWheel(),e.showSearchInput&&(t.initSearchInput(this.$(".selectivity-search-input")),t.focus()),o.call(this),this.$results.on("scroll touchmove touchend",n(this._scrolled.bind(this),50)),this.showLoading(),setTimeout(this.triggerOpen.bind(this),1)}var s=window.jQuery||window.Zepto,n=e(3),o=e(2),r=e(8);s.extend(i.prototype,o.prototype,{$:function(e){return this.$el.find(e)},addToDom:function(){for(var e,t=this.selectivity.$el;(e=t.next(".selectivity-dropdown")).length;)t=e;this.$el.insertAfter(t)},close:function(){this.options.showSearchInput&&this.selectivity.removeSearchInput(),this.$el.remove(),this.removeCloseHandler(),this.selectivity.$el.off("selectivity-selecting",this._closeProxy),this.triggerClose()},events:{"click .selectivity-load-more":"_loadMoreClicked","click .selectivity-result-item":"_resultClicked","mouseenter .selectivity-load-more":"_loadMoreHovered","mouseenter .selectivity-result-item":"_resultHovered",mousemove:"_recordMousePosition"},highlight:function(e){this.loadMoreHighlighted&&this.$(".selectivity-load-more").removeClass("highlight"),this.$(".selectivity-result-item").removeClass("highlight").filter("[data-item-id="+r.quoteCssAttr(e.id)+"]").addClass("highlight"),this.highlightedResult=e,this.loadMoreHighlighted=!1,this.selectivity.triggerEvent("selectivity-highlight",{item:e,id:e.id})},highlightLoadMore:function(){this.$(".selectivity-result-item").removeClass("highlight"),this.$(".selectivity-load-more").addClass("highlight"),this.highlightedResult=null,this.loadMoreHighlighted=!0},position:function(){var e=this.options.position;e&&e(this.$el,this.selectivity.$el),this._scrolled()},removeCloseHandler:function(){s("body").off("click",this._closeProxy)},renderItems:function(e){var t=this.selectivity;return e.map(function(e){var i=t.template(e.id?"resultItem":"resultLabel",e);return e.children&&(i+=t.template("resultChildren",{childrenHtml:this.renderItems(e.children)})),i},this).join("")},selectHighlight:function(){this.highlightedResult?this.selectItem(this.highlightedResult.id):this.loadMoreHighlighted&&this._loadMoreClicked()},selectItem:function(e){var t=this.selectivity,i=r.findNestedById(t.results,e);if(i){var s={id:e,item:i};t.triggerEvent("selectivity-selecting",s)&&t.triggerEvent("selectivity-selected",s)}},setupCloseHandler:function(){s("body").on("click",this._closeProxy)},showError:function(e,t){t=t||{},this.$results.html(this.selectivity.template("error",{escape:t.escape!==!1,message:e})),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showLoading:function(){this.$results.html(this.selectivity.template("loading")),this.hasMore=!1,this.results=[],this.highlightedResult=null,this.loadMoreHighlighted=!1,this.position()},showResults:function(e,t){var i=this.renderItems(e);t.hasMore?i+=this.selectivity.template("loadMore"):i||t.add||(i=this.selectivity.template("noResults",{term:t.term})),t.add?(this.$(".selectivity-loading").replaceWith(i),this.results=this.results.concat(e)):(this.$results.html(i),this.results=e),this.hasMore=t.hasMore,(!t.add||this.loadMoreHighlighted)&&this._highlightFirstItem(e),this.position()},triggerClose:function(){this.selectivity.$el.trigger("selectivity-close")},triggerOpen:function(){this.selectivity.$el.trigger("selectivity-open")},_highlightFirstItem:function(e){function t(e){for(var i=0,s=e.length;s>i;i++){var n=e[i];if(n.id)return n;if(n.children){var o=t(n.children);if(o)return o}}}var i=t(e);i?this.highlight(i):(this.highlightedResult=null,this.loadMoreHighlighted=!1)},_loadMoreClicked:function(){return this.$(".selectivity-load-more").replaceWith(this.selectivity.template("loading")),this.selectivity.loadMore(),this.selectivity.focus(),!1},_loadMoreHovered:function(e){(void 0===e.screenX||e.screenX!==this._lastMousePosition.x||void 0===e.screenY||e.screenY!==this._lastMousePosition.y)&&(this.highlightLoadMore(),this._recordMousePosition(e))},_recordMousePosition:function(e){this._lastMousePosition={x:e.screenX,y:e.screenY}},_resultClicked:function(e){return this.selectItem(this.selectivity._getItemId(e)),!1},_resultHovered:function(e){if(void 0===e.screenX||e.screenX!==this._lastMousePosition.x||void 0===e.screenY||e.screenY!==this._lastMousePosition.y){var t=this.selectivity._getItemId(e),i=r.findNestedById(this.results,t);i&&this.highlight(i),this._recordMousePosition(e)}},_scrolled:function(){var e=this.$(".selectivity-load-more");e.length&&e[0].offsetTop-this.$results[0].scrollTop<this.$el.height()&&this._loadMoreClicked()},_suppressMouseWheel:function(){var e=this.selectivity.options.suppressMouseWheelSelector;if(null!==e){var t=e||".selectivity-results-container";this.$el.on("DOMMouseScroll mousewheel",t,function(e){function t(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1}var i=s(this),n=this.scrollTop,o=this.scrollHeight,r=i.height(),l=e.originalEvent,u="DOMMouseScroll"===e.type?-40*l.detail:l.wheelDelta,h=u>0;if(o>r){if(!h&&-u>o-r-n)return i.scrollTop(o),t();if(h&&u>n)return i.scrollTop(0),t()}})}}}),t.exports=r.Dropdown=i},{2:2,3:3,8:8,jquery:"jquery"}],11:[function(e,t){"use strict";function i(e){var t=e.indexOf("@"),i=e.lastIndexOf("."),s=e.indexOf(" ");return t>0&&i>t+1&&i<e.length-2&&-1===s}function s(e,t){t=void 0===t?e.length:t;for(var i=t-1;i>=0;i--)if(/\s/.test(e[i]))return e.slice(i+1,t);return e.slice(0,t)}function n(e,t){return e.slice(0,1)===t[0]&&e.slice(-1)===t[1]?e.slice(1,-1).trim():e.trim()}function o(e){var t=s(e),o=e.slice(0,-t.length).trim();return i(t)?(t=n(n(t,"()"),"<>"),o=n(o,'""').trim()||t,{id:t,text:o}):e.trim()?{id:e,text:e}:null}function r(e,t,n){function r(e){if(e)for(var t=0,n=e.length;n>t;t++)switch(e[t]){case";":case",":case"\n":return!0;case" ":case"	":if(i(s(e,t)))return!0;break;case'"':do t++;while(n>t&&'"'!==e[t]);break;default:continue}return!1}function l(e){for(var t=0,n=e.length;n>t;t++)switch(e[t]){case";":case",":case"\n":return{term:e.slice(0,t),input:e.slice(t+1)};case" ":case"	":if(i(s(e,t)))return{term:e.slice(0,t),input:e.slice(t+1)};break;case'"':do t++;while(n>t&&'"'!==e[t]);break;default:continue}return{}}for(;r(e);){var u=l(e);if(u.term){var a=o(u.term);!a||a.id&&h.findById(t,a.id)||n(a)}e=u.input}return e}function l(e){a.call(this,e)}var u=window.jQuery||window.Zepto,h=e(8),a=e(14),c=h.inherits(l,a,{initSearchInput:function(e){c(this,"initSearchInput",e),e.on("blur",function(){var t=e.val();i(s(t))&&this.add(o(t))}.bind(this))},setOptions:function(e){e=u.extend({createTokenItem:o,showDropdown:!1,tokenizer:r},e),c(this,"setOptions",e)}});t.exports=h.InputTypes.Email=l},{14:14,8:8,jquery:"jquery"}],12:[function(e){"use strict";function t(e,t){function h(t,s){function n(e,t){for(var i=0,s=e.length;s>i;i++)if(e.eq(i).is(t))return i;return-1}function o(){var e;if(t.highlightedResult){var n=i.quoteCssAttr(t.highlightedResult.id);e=t.$(".selectivity-result-item[data-item-id="+n+"]")}else{if(!t.loadMoreHighlighted)return;e=t.$(".selectivity-load-more")}var o=e.position();if(o){var r=o.top,l=e.height(),u=t.$results.height();(0>r||r>u-l)&&(r+=t.$results.scrollTop(),t.$results.scrollTop(0>s?r:r-u+l))}}if(t.submenu)return void h(t.submenu,s);var r=t.results;if(r.length){var l=t.$(".selectivity-result-item"),u=s>0?0:l.length-1,a=u,c=t.highlightedResult;if(c){var d=i.quoteCssAttr(c.id);if(a=n(l,"[data-item-id="+d+"]")+s,s>0?a>=l.length:0>a){if(t.hasMore)return t.highlightLoadMore(),void o();a=u}}var p=i.findNestedById(r,e._getItemId(l[a]));p&&(t.highlight(p,{delay:!!p.submenu}),o())}}function a(i){var o=e.dropdown;if(o)if(i.keyCode===s){if(!t.val()){if(o.submenu){for(var r=o.submenu;r.submenu;)r=r.submenu;p=r}i.preventDefault(),d=!0}}else i.keyCode===n?h(o,1):i.keyCode===u?h(o,-1):i.keyCode===l&&setTimeout(function(){e.close({keepFocus:!1})},1)}function c(t){function i(){e.options.showDropdown!==!1&&e.open()}var l=e.dropdown;d?(t.preventDefault(),d=!1,p&&(p.close(),e.focus(),p=null)):t.keyCode===s?!l&&e.options.allowClear&&e.clear():t.keyCode!==o||t.ctrlKey?t.keyCode===r?(e.close(),t.preventDefault()):t.keyCode===n||t.keyCode===u?(i(),t.preventDefault()):i():(l?l.selectHighlight():e.options.showDropdown!==!1&&i(),t.preventDefault())}var d=!1,p=null;t.on("keydown",a).on("keyup",c)}var i=e(8),s=8,n=40,o=13,r=27,l=9,u=38;i.SearchInputListeners.push(t)},{8:8}],13:[function(e){"use strict";var t=e(4),i=e(8);i.Locale={ajaxError:function(e){return"Failed to fetch results for <b>"+t(e)+"</b>"},loading:"Loading...",loadMore:"Load more...",needMoreCharacters:function(e){return"Enter "+e+" more characters to search"},noResults:"No results found",noResultsForTerm:function(e){return"No results for <b>"+t(e)+"</b>"}}},{4:4,8:8}],14:[function(e,t){"use strict";function i(e){n.call(this,e),this.$el.html(this.template("multipleSelectInput",{enabled:this.enabled})).trigger("selectivity-init","multiple"),this._highlightedItemId=null,this.initSearchInput(this.$(".selectivity-multiple-input:not(.selectivity-width-detector)")),this._rerenderSelection(),e.positionDropdown||(this.options.positionDropdown=function(e,t){var i=t.position(),n=e.height(),o=t.height(),r=t[0].getBoundingClientRect().top,l=r+o+n,u="undefined"!=typeof window&&l>s(window).height()&&r-n>0,h=t.outerWidth?t.outerWidth():t.width();e.css({left:i.left+"px",top:i.top+(u?-n:o)+"px"}).width(h)})}var s=window.jQuery||window.Zepto,n=e(8),o=8,r=46,l=13,u=n.inherits(i,{add:function(e){var t=n.isValidId(e),i=t?e:this.validateItem(e)&&e.id;-1===this._value.indexOf(i)&&(this._value.push(i),t&&this.options.initSelection?this.options.initSelection([i],function(t){this._value.indexOf(i)>-1&&(e=this.validateItem(t[0]),this._data.push(e),this.triggerChange({added:e}))}.bind(this)):(t&&(e=this.getItemForId(i)),this._data.push(e),this.triggerChange({added:e}))),this.$searchInput.val("")},clear:function(){this.data([])},events:{change:"_rerenderSelection","change .selectivity-multiple-input":function(){return!1},click:"_clicked","click .selectivity-multiple-selected-item":"_itemClicked","keydown .selectivity-multiple-input":"_keyHeld","keyup .selectivity-multiple-input":"_keyReleased","paste .selectivity-multiple-input":"_onPaste","selectivity-selected":"_resultSelected"},filterResults:function(e){return e.filter(function(e){return!n.findById(this._data,e.id)},this)},getDataForValue:function(e){return e.map(this.getItemForId.bind(this)).filter(function(e){return!!e})},getValueForData:function(e){return e.map(function(e){return e.id})},remove:function(e){var t,i="object"===s.type(e)?e.id:e,o=n.findIndexById(this._data,i);o>-1&&(t=this._data[o],this._data.splice(o,1)),this._value[o]!==i&&(o=this._value.indexOf(i)),o>-1&&this._value.splice(o,1),t&&this.triggerChange({removed:t}),i===this._highlightedItemId&&(this._highlightedItemId=null)},search:function(){var e=this.$searchInput.val();this.options.tokenizer&&(e=this.options.tokenizer(e,this._data,this.add.bind(this),this.options),"string"===s.type(e)?this.$searchInput.val(e):e=""),this.dropdown&&u(this,"search")},setOptions:function(e){e=e||{};var t="backspaceHighlightsBeforeDelete";void 0===e[t]&&(e[t]=this.hasTouch),e.allowedTypes=e.allowedTypes||{},e.allowedTypes[t]="boolean",u(this,"setOptions",e)},validateData:function(e){if(null===e)return[];if("array"===s.type(e))return e.map(this.validateItem.bind(this));throw new Error("Data for MultiSelectivity instance should be array")},validateValue:function(e){if(null===e)return[];if("array"===s.type(e)){if(e.every(n.isValidId))return e;throw new Error("Value contains invalid IDs")}throw new Error("Value for MultiSelectivity instance should be an array")},_backspacePressed:function(){this.options.backspaceHighlightsBeforeDelete?this._highlightedItemId?this._deletePressed():this._value.length&&this._highlightItem(this._value.slice(-1)[0]):this._value.length&&this.remove(this._value.slice(-1)[0])},_clicked:function(){return this.enabled?(this.focus(),this._open(),!1):void 0},_createToken:function(){var e=this.$searchInput.val(),t=this.options.createTokenItem;if(e&&t){var i=t(e);i&&this.add(i)}},_deletePressed:function(){this._highlightedItemId&&this.remove(this._highlightedItemId)},_highlightItem:function(e){this._highlightedItemId=e,this.$(".selectivity-multiple-selected-item").removeClass("highlighted").filter("[data-item-id="+n.quoteCssAttr(e)+"]").addClass("highlighted"),this.hasKeyboard&&this.focus()},_itemClicked:function(e){this.enabled&&this._highlightItem(this._getItemId(e))},_itemRemoveClicked:function(e){return this.remove(this._getItemId(e)),this._updateInputWidth(),!1},_keyHeld:function(e){this._originalValue=this.$searchInput.val(),e.keyCode!==l||e.ctrlKey||e.preventDefault()},_keyReleased:function(e){var t=!!this._originalValue;e.keyCode!==l||e.ctrlKey?e.keyCode!==o||t?e.keyCode!==r||t||this._deletePressed():this._backspacePressed():this.options.createTokenItem&&this._createToken(),this._updateInputWidth()},_onPaste:function(){setTimeout(function(){this.search(),this.options.createTokenItem&&this._createToken()}.bind(this),10)},_open:function(){this.options.showDropdown!==!1&&this.open()},_renderSelectedItem:function(e){this.$searchInput.before(this.template("multipleSelectedItem",s.extend({highlighted:e.id===this._highlightedItemId,removable:!this.options.readOnly},e)));var t=n.quoteCssAttr(e.id);this.$(".selectivity-multiple-selected-item[data-item-id="+t+"]").find(".selectivity-multiple-selected-item-remove").on("click",this._itemRemoveClicked.bind(this))},_rerenderSelection:function(e){if(e=e||{},e.added)this._renderSelectedItem(e.added),this._scrollToBottom();
else if(e.removed){var t=n.quoteCssAttr(e.removed.id);this.$(".selectivity-multiple-selected-item[data-item-id="+t+"]").remove()}else this.$(".selectivity-multiple-selected-item").remove(),this._data.forEach(this._renderSelectedItem,this),this._updateInputWidth();(e.added||e.removed)&&(this.dropdown&&this.dropdown.showResults(this.filterResults(this.results),{hasMore:this.dropdown.hasMore}),this.hasKeyboard&&this.focus()),this.positionDropdown(),this._updatePlaceholder()},_resultSelected:function(e){-1===this._value.indexOf(e.id)?this.add(e.item):this.remove(e.item)},_scrollToBottom:function(){var e=this.$(".selectivity-multiple-input-container");e.scrollTop(e.height())},_updateInputWidth:function(){if(this.enabled){var e=this.$searchInput,t=this.$(".selectivity-width-detector");t.text(e.val()||!this._data.length&&this.options.placeholder||""),e.width(t.width()+20),this.positionDropdown()}},_updatePlaceholder:function(){var e=this._data.length?"":this.options.placeholder;this.enabled?this.$searchInput.attr("placeholder",e):this.$(".selectivity-placeholder").text(e)}});t.exports=n.InputTypes.Multiple=i},{8:8,jquery:"jquery"}],15:[function(e,t){"use strict";function i(e){n.call(this,e),this.$el.html(this.template("singleSelectInput",this.options)).trigger("selectivity-init","single"),this._rerenderSelection(),e.positionDropdown||(this.options.positionDropdown=function(e,t){var i=t.position(),n=e.height(),o=t.height(),r=t[0].getBoundingClientRect().top,l=r+o+n,u=0;"undefined"!=typeof window&&(u=Math.min(Math.max(l-s(window).height(),0),r+o));var h=t.outerWidth?t.outerWidth():t.width();e.css({left:i.left+"px",top:i.top+o-u+"px"}).width(h)}),e.showSearchInputInDropdown===!1&&this.initSearchInput(this.$(".selectivity-single-select-input"),{noSearch:!0})}var s=window.jQuery||window.Zepto,n=e(8),o=n.inherits(i,{events:{change:"_rerenderSelection",click:"_clicked","focus .selectivity-single-select-input":"_focused","selectivity-selected":"_resultSelected"},clear:function(){this.data(null)},close:function(e){this._closing=!0,o(this,"close");var t=this.$(".selectivity-single-select-input");this.$searchInput||this.initSearchInput(t,{noSearch:!0}),e&&e.keepFocus===!1||t.focus(),this._closing=!1},getDataForValue:function(e){return this.getItemForId(e)},getValueForData:function(e){return e?e.id:null},open:function(e){var t=this.options.showSearchInputInDropdown!==!1;o(this,"open",s.extend({showSearchInput:t},e)),t||this.focus()},setOptions:function(e){e=e||{},e.allowedTypes=s.extend(e.allowedTypes||{},{allowClear:"boolean",showSearchInputInDropdown:"boolean"}),o(this,"setOptions",e)},validateData:function(e){return null===e?e:this.validateItem(e)},validateValue:function(e){if(null===e||n.isValidId(e))return e;throw new Error("Value for SingleSelectivity instance should be a valid ID or null")},_clicked:function(){return this.enabled?(this.dropdown?this.close():this.options.showDropdown!==!1&&this.open(),!1):void 0},_focused:function(){this.enabled&&!this._closing&&this.options.showDropdown!==!1&&this.open()},_itemRemoveClicked:function(){return this.data(null),!1},_rerenderSelection:function(){var e=this.$(".selectivity-single-result-container");this._data?(e.html(this.template("singleSelectedItem",s.extend({removable:this.options.allowClear&&!this.options.readOnly},this._data))),e.find(".selectivity-single-selected-item-remove").on("click",this._itemRemoveClicked.bind(this))):e.html(this.template("singleSelectPlaceholder",{placeholder:this.options.placeholder}))},_resultSelected:function(e){this.data(e.item),this.close()}});t.exports=n.InputTypes.Single=i},{8:8,jquery:"jquery"}],16:[function(e,t){"use strict";function i(e){this.parentMenu=e.parentMenu,n.call(this,e),this._closeSubmenuTimeout=0,this._openSubmenuTimeout=0}var s=e(8),n=e(10),o=s.inherits(i,n,{close:function(){this.options.restoreOptions&&this.selectivity.setOptions(this.options.restoreOptions),this.options.restoreResults&&(this.selectivity.results=this.options.restoreResults),this.submenu&&this.submenu.close(),o(this,"close"),this.parentMenu&&(this.parentMenu.submenu=null,this.parentMenu=null),clearTimeout(this._closeSubmenuTimeout),clearTimeout(this._openSubmenuTimeout)},highlight:function(e,t){t&&t.delay?(o(this,"highlight",e),clearTimeout(this._openSubmenuTimeout),this._openSubmenuTimeout=setTimeout(this._doHighlight.bind(this,e),300)):this.submenu?this.highlightedResult&&this.highlightedResult.id===e.id?this._doHighlight(e):(clearTimeout(this._closeSubmenuTimeout),this._closeSubmenuTimeout=setTimeout(this._closeSubmenuAndHighlight.bind(this,e),100)):(this.parentMenu&&this.parentMenu._closeSubmenuTimeout&&(clearTimeout(this.parentMenu._closeSubmenuTimeout),this.parentMenu._closeSubmenuTimeout=0),this._doHighlight(e))},selectHighlight:function(){this.submenu?this.submenu.selectHighlight():o(this,"selectHighlight")},selectItem:function(e){var t=this.selectivity,i=s.findNestedById(t.results,e);if(i&&!i.submenu){var n={id:e,item:i};t.triggerEvent("selectivity-selecting",n)&&t.triggerEvent("selectivity-selected",n)}},showResults:function(e,t){this.submenu?this.submenu.showResults(e,t):o(this,"showResults",e,t)},triggerClose:function(){this.parentMenu?this.selectivity.$el.trigger("selectivity-close-submenu"):o(this,"triggerClose")},triggerOpen:function(){this.parentMenu?this.selectivity.$el.trigger("selectivity-open-submenu"):o(this,"triggerOpen")},_closeSubmenuAndHighlight:function(e){this.submenu&&this.submenu.close(),this._doHighlight(e)},_doHighlight:function(e){if(o(this,"highlight",e),e.submenu&&!this.submenu){var t=this.selectivity,i=t.options.dropdown||s.Dropdown;if(i){var n=s.quoteCssAttr(e.id),r=this.$(".selectivity-result-item[data-item-id="+n+"]"),l=this.$el;this.submenu=new i({parentMenu:this,position:e.submenu.positionDropdown||function(e){var t=l.position(),i=l.width();e.css({left:t.left+i+"px",top:r.position().top+t.top+"px"}).width(i)},restoreOptions:{items:t.items,query:t.options.query||null},restoreResults:t.results,selectivity:t,showSearchInput:e.submenu.showSearchInput}),t.setOptions({items:e.submenu.items||null,query:e.submenu.query||null}),t.search("")}}}});s.Dropdown=i,s.findNestedById=function(e,t){for(var i=0,n=e.length;n>i;i++){var o,r=e[i];if(r.id===t?o=r:r.children?o=s.findNestedById(r.children,t):r.submenu&&r.submenu.items&&(o=s.findNestedById(r.submenu.items,t)),o)return o}return null},t.exports=i},{10:10,8:8}],17:[function(e){"use strict";var t=e(4),i=e(8);e(13),i.Templates={dropdown:function(e){var i=e.dropdownCssClass?" "+e.dropdownCssClass:"",s="";if(e.showSearchInput){i+=" has-search-input";var n=e.searchInputPlaceholder;s='<div class="selectivity-search-input-container"><input type="text" class="selectivity-search-input"'+(n?' placeholder="'+t(n)+'"':"")+"></div>"}return'<div class="selectivity-dropdown'+i+'">'+s+'<div class="selectivity-results-container"></div></div>'},error:function(e){return'<div class="selectivity-error">'+(e.escape?t(e.message):e.message)+"</div>"},loading:function(){return'<div class="selectivity-loading">'+i.Locale.loading+"</div>"},loadMore:function(){return'<div class="selectivity-load-more">'+i.Locale.loadMore+"</div>"},multipleSelectInput:function(e){return'<div class="selectivity-multiple-input-container">'+(e.enabled?'<input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" class="selectivity-multiple-input"><span class="selectivity-multiple-input selectivity-width-detector"></span>':'<div class="selectivity-multiple-input selectivity-placeholder"></div>')+'<div class="selectivity-clearfix"></div></div>'},multipleSelectedItem:function(e){var i=e.highlighted?" highlighted":"";return'<span class="selectivity-multiple-selected-item'+i+'" data-item-id="'+t(e.id)+'">'+(e.removable?'<a class="selectivity-multiple-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+t(e.text)+"</span>"},noResults:function(e){var t=i.Locale;return'<div class="selectivity-error">'+(e.term?t.noResultsForTerm(e.term):t.noResults)+"</div>"},resultChildren:function(e){return'<div class="selectivity-result-children">'+e.childrenHtml+"</div>"},resultItem:function(e){return'<div class="selectivity-result-item" data-item-id="'+t(e.id)+'">'+t(e.text)+(e.submenu?'<i class="selectivity-submenu-icon fa fa-chevron-right"></i>':"")+"</div>"},resultLabel:function(e){return'<div class="selectivity-result-label">'+t(e.text)+"</div>"},singleSelectInput:'<div class="selectivity-single-select"><input type="text" class="selectivity-single-select-input"><div class="selectivity-single-result-container"></div><i class="fa fa-sort-desc selectivity-caret"></i></div>',singleSelectPlaceholder:function(e){return'<div class="selectivity-placeholder">'+t(e.placeholder)+"</div>"},singleSelectedItem:function(e){return'<span class="selectivity-single-selected-item" data-item-id="'+t(e.id)+'">'+(e.removable?'<a class="selectivity-single-selected-item-remove"><i class="fa fa-remove"></i></a>':"")+t(e.text)+"</span>"},selectCompliance:function(e){return"multiple"===e.mode&&"[]"!==e.name.slice(-2)&&(e.name+="[]"),'<select name="'+e.name+'"'+("multiple"===e.mode?" multiple":"")+"></select>"},selectOptionCompliance:function(e){return'<option value="'+t(e.id)+'" selected>'+t(e.text)+"</option>"}}},{13:13,4:4,8:8}],18:[function(e){"use strict";function t(e,t,i,n){function o(e){return e?u.some(function(t){return e.indexOf(t)>-1}):!1}function r(e){for(var t=0,i=e.length;i>t;t++)if(u.indexOf(e[t])>-1)return{term:e.slice(0,t),input:e.slice(t+1)};return{}}for(var l=n.createTokenItem||function(e){return e?{id:e,text:e}:null},u=n.tokenSeparators;o(e);){var h=r(e);if(h.term){var a=l(h.term);a&&!s.findById(t,a.id)&&i(a)}e=h.input}return e}var i=window.jQuery||window.Zepto,s=e(8);s.OptionListeners.push(function(e,s){s.tokenSeparators&&(s.allowedTypes=i.extend({tokenSeparators:"array"},s.allowedTypes),s.tokenizer=s.tokenizer||t)})},{8:8,jquery:"jquery"}],19:[function(e){"use strict";function t(e,t){var i=t.multiple?[]:null,n=function(){var e=s(this);if(e.is("option")){var o=e.text(),r=e.attr("value")||o;if(e.prop("selected")){var l={id:r,text:o};t.multiple?i.push(l):i=l}return{id:r,text:e.attr("label")||o}}return{text:e.attr("label"),children:e.children("option,optgroup").map(n).get()}};t.allowClear="allowClear"in t?t.allowClear:!e.prop("required");var o=e.children("option,optgroup").map(n).get();t.items=t.query?null:o,t.placeholder=t.placeholder||e.data("placeholder")||"",t.data=i;var r=(e.attr("class")||"selectivity-input").split(" ");-1===r.indexOf("selectivity-input")&&r.push("selectivity-input");var l=s("<div>").attr({id:e.attr("id"),"class":r.join(" "),style:e.attr("style"),"data-name":e.attr("name")});return e.replaceWith(l),l}function i(e){var t=e.$el;t.on("selectivity-init",function(i,s){t.append(e.template("selectCompliance",{name:t.attr("data-name"),mode:s})).removeAttr("data-name")}).on("selectivity-init change",function(){var i=e._data,s=t.find("select");i instanceof Array?(s.empty(),i.forEach(function(t){s.append(e.template("selectOptionCompliance",t))})):i?s.html(e.template("selectOptionCompliance",i)):s.empty()})}var s=window.jQuery||window.Zepto,n=e(8);n.OptionListeners.push(function(e,s){var n=e.$el;n.is("select")&&(n.attr("autofocus")&&setTimeout(function(){e.focus()},1),e.$el=t(n,s),e.$el[0].selectivity=e,i(e))})},{8:8,jquery:"jquery"}]},{},[1])(1)});